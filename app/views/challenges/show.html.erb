<%= render partial: 'shared/challenges/masthead', locals: { challenge: @challenge, challenge_rounds: @challenge_rounds, vote: @vote, follow: @follow } %>
<%= render partial: 'challenges/show/subnav', locals: { challenge: @challenge } %>

<!-- section -->
<section class="section-p-md">
  <div class="container-fluid">
    <div class="row">

      <!-- sub-nav – vertical -->
      <div class="col-lg-2 sub-nav-vertical-container">
        <ul class="nav flex-column sticky-top-sub-nav" id="table-of-contents">
        </ul>
      </div>
      <!-- /sub-nav – vertical -->

      <!-- md content -->
      <div class="col-md-8 col-lg-7" id="description-wrapper">
        <div class="markdown-wrap">
          <div class="md-content ck-content" data-controller="challenge-overview" data-action="resize@window->challenge-overview#showTOC" data-challenge-overview-scrollable-tabs="<%= @challenge.scrollable_overview_tabs %>">
            <%= sanitize_html(@challenge.description) %>
            <% if controller_name == 'challenges' && show_action? && @partners.present? %>
              <h2>Sponsors and Partners</h2>
              <% @partners.each do |partner| %>
                <% if partner.image_file.present?  %>
                  <figure class="image">
                    <%= image_tag partner.image_file.url %>
                  </figure>
                <% end %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
      <!-- /md content -->
      <div class="top-contributors-container col-sm-12 col-md-4 col-lg-3">
        <%= render 'challenges/show/sidenav', challenge: @challenge, top_leaderboards: @top_five_leaderboards, latest_submissions: @latest_five_submissions, challenge_baseline_discussion: @challenge_baseline_discussion %>
      </div>
    </div>
  </div>
</section>
<!-- /section -->
