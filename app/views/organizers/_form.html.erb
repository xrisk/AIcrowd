<div class="masthead masthead-open">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <h1>Edit organizer</h1>
      </div>
    </div>
  </div>
</div>
<div class="section-p-md">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <%= form_for organizer, validate: true, html: { class: "form-rg", multipart: true  } do |f| %>
          <%= render partial: 'shared/error_messages', locals: { target: organizer } %>

          <div class="form-group">
            <%= f.label :organizer, 'Organizer name' %>
            <%= f.text_field :organizer, class: 'form-control' %>
          </div>

          <div class="form-group">
            <%= f.label :tagline, 'Tagline' %>
            <%= f.text_field :tagline, class: 'form-control', 'aria-describedby': "organizerTaglineHelp" %>
            <small id="organizerTaglineHelp" class="form-text text-muted">Max. 140 characters</small>
          </div>

          <div class="form-group">
              <span class="label-text">Image</span>
              <%= image_tag organizer.image_file_url, id: 'challenges-form-card-image', class: 'form-challenge-card-image' %>
          </div>

          <div class="form-group">
            <span class="label-text">Avatar</span>
            <div class="custom-file mt-1">
              <%= f.file_field :image_file, class: 'custom-file-input crop_image_file' %>
              <%= f.label :image_file, 'Choose file', class: 'custom-file-label', 'aria-describedby': "avatarHelp" %>
              <small id="avatarHelp" class="form-text text-muted">Your image will be cropped to a square aspect ratio if required. 5 MB limit</small>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :description, 'Description' %>
            <%= f.text_area :description, class: 'form-control', rows: 3 %>
          </div>

          <div class="form-group">
            <%= f.label :address, 'Address' %>
            <%= f.text_area :address, placeholder: 'Optional...', class: 'form-control', rows: 3 %>
          </div>

          <!-- CLEF organizer related -->
          <div class="form-group">
            <%= f.label :clef_organizer, 'CLEF organizer?' %>
            <%= f.check_box :clef_organizer %>
          </div>
          <!--/CLEF organizer related-->

          <div class="form-group">
            <%= f.label :api_key, class: 'd-flex justify-content-between' do %>
              API key
              <%= link_to organizer_regen_api_key_path(organizer), class: 'btn btn-secondary btn-sm', data: { toggle: 'tooltip', placement: 'top' }, title: 'Generate new API key' do %>
                <img src="https://d33wubrfki0l68.cloudfront.net/45ec489693f5253ba2c8d86750482b24bfe0a0ec/72a48/assets/img/icon-refresh.svg">
              <% end %>
            <% end %>
            <%= f.text_field :api_key, class: 'form-control', readonly: 'readonly' %>
          </div>

          <% %w[x y w h].each do |attribute| %>
            <%= f.hidden_field "coords_#{attribute}", id:"coords_#{attribute}" %>
          <% end %>

          <%= render partial: 'challenges/modals/card_modal' %>

          <%= render partial: 'shared/submit_buttons', locals: { f: f  } %>
        <% end %>
      </div>
    </div>
  </div>
</div>
